# 面试题总结

## 事件对象中target对象和currentTarget对象的区别

1. target在事件流的目标阶段；currentTarget在事件流的捕获，目标及冒泡阶段。
1. event.currentTarget指向事件所绑定的元素，而event.target始终指向事件发生时的元素。
1. 事件真正的发送者是evt.target（而且是可以变的，根据触发的不同displayObject），注册侦听器的是evt.currentTarget（不会变的)

## 从浏览器打开到页面渲染完成，发生了什么事情

- 浏览器解析->查询缓存->dns查询->建立链接->服务器处理请求->服务器发送响应->客户端收到页面->解析HTML->构建渲染树->开始显示内容(白屏时间)->首屏内容加载完成(首屏时间)->用户可交互(DOMContentLoaded)->加载完成(load)

- PerformanceTiming 接口包含了当前页面中与时间相关的信息。可以获取到很多页面加载相关的数据。 比较常用的有：
- - DNS解析时间： domainLookupEnd - domainLookupStart
- - TCP建立连接时间： connectEnd - connectStart
- - 白屏时间： responseStart - navigationStart
- - dom渲染完成时间： domContentLoadedEventEnd - navigationStart
- - 页面onload时间： loadEventEnd - navigationStart

## 请描述一下cookie、sessionStorage和localStorage的区别？

### 相同点：都存储在客户端

### 不同点：

- 存储大小
- - cookie数据大小不能超过4k。
- - sessionStorage和localStorage 虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大。
- 有效时间
- - localStorage 存储持久数据，浏览器关闭后数据不丢失除非主动删除数据；
- - sessionStorage 数据在当前浏览器窗口关闭后自动删除。
- - cookie 设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭
- 数据与服务器之间的交互方式
- - cookie的数据会自动的传递到服务器，服务器端也可以写cookie到客户端
- - sessionStorage和localStorage不会自动把数据发给服务器，仅在本地保存

## 回流，重绘

- 当render tree中的一部分(或全部)，因为元素的规模尺寸、布局、隐藏等改变而需要重新构建，这就是回流(reflow)
- - 每个页面至少回流一次，即页面首次加载
- - 回流时，浏览器会使渲染树中受到影响的部分失效，并重新构造这部分渲染树
- - 回流完成后，浏览器会重新绘制受影响的部分，是重绘过程

- 当render tree中的一些元素需要更新属性，而这些属性只是影响元素的外观、风格，而不影响布局(例如：background-color)，则称为重绘(repaints)

- 回流必将引起重绘，而重绘不一定会引起回流。

- 如何减少回流、重绘

- - 文档碎片：DocumentFragment 
